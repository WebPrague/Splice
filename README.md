## 基于Android智能手机平台的多屏拼接显示系统

## 系统的框架设计
- 总体设计
由于本系统中各个移动终端设备使用主从式的控制模式传输图片文件，因此，根据Wi-Fi无线局域网方式的特点把系统分为服务器端和客户端。服务器端的移动设备作为主节点开启WLAN热点，其他客户端的移动设备作为从节点与主节点建立连接，构成一个无线自组网。服务器端只有一个移动设备，客户端可以有多个。主节点向从节点发送图片文件，从节点接收图片文件的一部分，与主节点共同拼接显示整个图片文件。

- 服务器端设计
服务器端的消息通讯部分采用Apache Mina网络通讯框架来处理数据传输问题。服务器端接收来自客户端发送过来的请求，经过服务器端的协议解析，交给服务器端的业务逻辑处理器来处理消息。
	服务器端协议解析部分是根据从自定义的通讯工具类MinaUtil中读取信息，转换具体的参数类型，将图片编码成二进制流发送给客户端。
	服务器端的图片处理部分，将要发送到各个客户端的图片按照基于图片流的处理方式进行1：1的图像缩放和图像裁剪，并依据特定的图形处理库进行处理。同时，服务器端通过重写Apache Mina编码器，将图片编码成二进制流，发送至客户端。
- 客户端设计
客户端的消息通讯部分采用Socket网络通讯来同步和协调不同客户端之间的显示内容，同时对服务器端发来的消息和相应的接口进行封装，并用一个通讯队列接收消息，保证从服务器端接收到的消息不会遗失并且能够顺序执行。
	客户端的协议解析部分是接收服务器端发来的消息，根据配置文件找到相应的方法，对服务器端发来的二进制流解码成图片，在客户端进行显示。
	客户端的UI显示部分是多个客户端对服务器端发来的图片进行拼接显示，每个客户端只显示图片的一部分，多个客户端拼接显示整张图片。
- 通信协议设计
本系统基于Apache Mina网络通信框架，服务器端和客户端之间传输的数据格式取决于具体的通信协议，并通过Apache Mina的协议编解码器实现自定义的通信协议栈。具体实现是重写了Apache Mina框架的编解码器，服务器一端对发送至客户端的数据进行编码，客户端对接收的数据进行解码。

## 系统实现功能
- 网络通讯
- 协议编码和解码
- 图片文件缩放和拼接

## 未完成
- 断线重连
- 算法优化

## 关于
- 如何支持作者：点击右上角的"star" 的按钮，是对作者的最大支持。
- 如有问题请邮箱联系：zhangpeng[AT]webprague[DOT]com;
